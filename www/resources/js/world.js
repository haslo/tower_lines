// Generated by CoffeeScript 1.8.0
(function() {
  this.World = (function() {
    function World(map, dips) {
      this.map = map;
      this.dips = dips;
      this.towers = [];
      this.mobs = [];
    }

    World.prototype.add = function(item) {
      if (item instanceof Map) {
        this.map = item;
      }
      if (item instanceof Tower) {
        this.map.initTower(item, item.index);
        this.towers.push(item);
      }
      if (item instanceof Mob) {
        this.map.initMob(item, item.index);
        return this.mobs.push(item);
      }
    };

    World.prototype.update = function() {
      var map;
      map = this.map;
      map.update();
      $.each(this.towers, function(_, tower) {
        return tower.update(map);
      });
      return $.each(this.mobs, function(_, mob) {
        return mob.update(map);
      });
    };

    World.prototype.draw = function() {
      var dips, graphics, map;
      map = this.map;
      dips = this.dips;
      graphics = map.getGraphics();
      map.draw(graphics, dips);
      $.each(this.towers, function(_, tower) {
        return tower.draw(map, graphics, dips);
      });
      return $.each(this.mobs, function(_, mob) {
        return mob.draw(map, graphics, dips);
      });
    };

    return World;

  })();

}).call(this);
